(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t){},110:function(e,t){},111:function(e,t){},113:function(e,t){},141:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(55),c=a.n(o),u=(a(61),a(62),a(16)),l=a(17),r=a(19),i=a(18),m=a(5),h=a(20),p=(a(63),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).state={username:"",password:"",session:e.session,status:"",status2:""},a.onChangeUsername=a.onChangeUsername.bind(Object(m.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(m.a)(a)),a.onSubmit=a.onSubmit.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value,status:""})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value,status:""})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.state.session,a=this.state.username,n=this.state.password,s=this;t.call("authenticate",[a,n]).then(function(e){var t=e.kwargs.message;s.setState({status:"Sucesso!",status2:"Token: "+t.token})}).catch(function(e){var t=e.kwargs.exc_type,a=e.kwargs.message;s.setState({status:t+": "+a})})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("p",null,s.a.createElement("label",null,"Usu\xe1rio:"),s.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.onChangeUsername})),s.a.createElement("p",null,s.a.createElement("label",null,"Senha:"),s.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.onChangePassword}),s.a.createElement("br",null),s.a.createElement("small",{className:"smooth"},"Esqueceu sua senha? Entre em contato com o Suporte.")),s.a.createElement("p",null,s.a.createElement("input",{type:"submit",name:"submit",value:"Entrar"}))),s.a.createElement("div",{className:"status"},this.state.status),s.a.createElement("div",{className:"status2"},this.state.status2))}}]),t}(s.a.Component)),d=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).state={parent:e.parent,username:"",password:"",session:e.session,status:"",success:null},a.onChangeUsername=a.onChangeUsername.bind(Object(m.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(m.a)(a)),a.onSubmit=a.onSubmit.bind(Object(m.a)(a)),a.goBack=a.goBack.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value,status:""})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value,status:""})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.state.session,a=this.state.username,n=this.state.password,s=this;t.call("sign_up",[a,n]).then(function(e){console.log(e);var t=e.kwargs.message;s.setState({confirmationToken:t.token,userId:t.id,status:"",success:!0})}).catch(function(e){var t=e.kwargs.exc_type,a=e.kwargs.message;s.setState({status:t+": "+a})})}},{key:"goBack",value:function(e){e.preventDefault(),this.state.parent.setState({signup:!1})}},{key:"render",value:function(){return this.state.success?s.a.createElement("div",null,s.a.createElement("h3",null,"Nova conta criada com sucesso"),s.a.createElement("p",null,"Se essa aplica\xe7\xe3o fosse quente, voc\xea receberia um e-mail contendo um link m\xe1gico que serviria para confirmar sua conta."),s.a.createElement("p",null,"O token ",s.a.createElement("strong",null,"de confirma\xe7\xe3o")," seria o ",this.state.confirmationToken,"."),s.a.createElement("p",null,"Mas, por ora, basta voc\xea ",s.a.createElement("a",{href:"#",onClick:this.goBack},"clicar aqui")," e experimentar logar-se usando as credenciais que acabou de criar."),s.a.createElement("div",{className:"status"},this.state.status)):s.a.createElement("div",null,s.a.createElement("h3",null,"Criar nova conta"),s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("p",null,s.a.createElement("label",null,"Usu\xe1rio:"),s.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.onChangeUsername}),s.a.createElement("br",null)),s.a.createElement("p",null,s.a.createElement("label",null,"Senha:"),s.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.onChangePassword}),s.a.createElement("br",null)),s.a.createElement("p",null,s.a.createElement("input",{type:"submit",name:"submit",value:"Criar"}))),s.a.createElement("p",null,s.a.createElement("small",null,s.a.createElement("a",{href:"#",onClick:this.goBack},"Voltar"))),s.a.createElement("div",{className:"status"},this.state.status))}}]),t}(s.a.Component),b=a(64),v=function(e){function t(e){var a;Object(u.a)(this,t),a=Object(r.a)(this,Object(i.a)(t).call(this,e));var n=new b.Connection({url:"ws://127.0.0.1:9090/ws",realm:"world",authmethods:["ticket"],authid:"frontend",onchallenge:a.onChallenge}),s=Object(m.a)(a);return n.onopen=function(e){s.onConnect(e)},n.onclose=function(e,t){s.onDisconnect(e,t)},a.state={connected:!1,connection:n,status:"Connecting",session:null,signup:!1},a.showSignupForm=a.showSignupForm.bind(Object(m.a)(a)),n.open(),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"onChallenge",value:function(e,t,a){if("ticket"===t)return"sou um usuario";console.log("don't know how to authenticate using '"+t+"'")}},{key:"onConnect",value:function(e){this.setState({connected:!0,status:"Connected",session:e})}},{key:"onDisconnect",value:function(e,t){this.setState({connected:!1,status:"Disconnected: "+e,session:null})}},{key:"showSignupForm",value:function(e){e.preventDefault(),this.setState({signup:!0})}},{key:"render",value:function(){return this.state.connected?this.state.signup?s.a.createElement("div",{className:"autobahn-app connected"},s.a.createElement("h2",null,"Nova plataforma de cota\xe7\xe3o de ap\xf3lices"),s.a.createElement(d,{session:this.state.session,parent:this})):s.a.createElement("div",{className:"autobahn-app connected"},s.a.createElement("h2",null,"Nova plataforma de cota\xe7\xe3o de ap\xf3lices"),s.a.createElement(p,{session:this.state.session}),s.a.createElement("small",null,s.a.createElement("a",{href:"#",onClick:this.showSignupForm},"Sou novo aqui"))):s.a.createElement("div",{className:"autobahn-app disconnected"},s.a.createElement("h2",null,"Nova plataforma de cota\xe7\xe3o de ap\xf3lices"),s.a.createElement("p",null,this.state.status))}}]),t}(s.a.Component);var f=function(){return s.a.createElement("div",{className:"app"},s.a.createElement(v,null))};c.a.render(s.a.createElement(f,null),document.getElementById("root"))},46:function(e,t){},56:function(e,t,a){e.exports=a(141)},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},75:function(e,t){},92:function(e,t){},94:function(e,t){}},[[56,1,2]]]);
//# sourceMappingURL=main.b8fdfb7a.chunk.js.map