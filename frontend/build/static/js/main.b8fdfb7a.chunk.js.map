{"version":3,"sources":["LoginForm.js","SignUpForm.js","AutobahnApp.js","App.js","index.js"],"names":["LoginForm","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","username","password","session","status","status2","onChangeUsername","bind","assertThisInitialized","onChangePassword","onSubmit","event","setState","target","value","preventDefault","that","then","response","message","kwargs","token","catch","error","exc_type","msg","react_default","a","createElement","type","name","onChange","className","React","Component","SignUpForm","parent","success","goBack","console","log","confirmationToken","userId","id","signup","href","onClick","autobahn","require","AutobahnApp","connection","Connection","url","realm","authmethods","authid","onchallenge","onChallenge","onopen","onConnect","onclose","reason","details","onDisconnect","connected","showSignupForm","open","method","extra","src_SignUpForm","src_LoginForm","App","src_AutobahnApp_0","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.b8fdfb7a.chunk.js","sourcesContent":["import React from 'react';\n\n\nclass LoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n      session: props.session,\n      status: '',\n      status2: ''\n    };\n\n    this.onChangeUsername = this.onChangeUsername.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onChangeUsername(event) {\n    this.setState({username: event.target.value, status: ''});\n  }\n\n  onChangePassword(event) {\n    this.setState({password: event.target.value, status: ''});\n  }\n\n  onSubmit(event) {\n    event.preventDefault();\n\n    var session = this.state['session'];\n    var username = this.state['username'];\n    var password = this.state['password'];\n\n    var that = this;\n\n    session.call('authenticate', [username, password]).then(function(response) {\n      var message = response.kwargs.message;\n\n      that.setState({\n        status: \"Sucesso!\",\n        status2: \"Token: \" + message.token,\n      });\n    }).catch(function(error) {\n      var exc_type = error.kwargs.exc_type;\n      var msg = error.kwargs.message\n      that.setState({status: exc_type + ': ' + msg});\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <form onSubmit={this.onSubmit}>\n          <p>\n            <label>Usuário:</label>\n            <input type='text' name='username' value={this.state.username} onChange={this.onChangeUsername} />\n          </p>\n          <p>\n            <label>Senha:</label>\n            <input type='password' name='password' value={this.state.password} onChange={this.onChangePassword} />\n            <br/>\n            <small className='smooth'>Esqueceu sua senha? Entre em contato com o Suporte.</small>\n          </p>\n          <p><input type='submit' name='submit' value='Entrar' /></p>\n        </form>\n        <div className='status'>{this.state.status}</div>\n        <div className='status2'>{this.state.status2}</div>\n      </div>\n    );\n  }\n}\n\nexport default LoginForm;\n","import React from 'react';\n\n\nclass SignUpForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      parent: props.parent,\n      username: '',\n      password: '',\n      session: props.session,\n      status: '',\n      success: null\n    };\n\n    this.onChangeUsername = this.onChangeUsername.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.goBack = this.goBack.bind(this);\n  }\n\n  onChangeUsername(event) {\n    this.setState({\n      username: event.target.value,\n      status: ''\n    });\n  }\n\n  onChangePassword(event) {\n    this.setState({\n      password: event.target.value,\n      status: ''\n    });\n  }\n\n  onSubmit(event) {\n    event.preventDefault();\n\n    var session = this.state['session'];\n    var username = this.state['username'];\n    var password = this.state['password'];\n\n    var that = this;\n\n    session.call('sign_up', [username, password]).then(function(response) {\n      console.log(response);\n      var message = response.kwargs.message;\n\n      that.setState({\n        confirmationToken: message.token,\n        userId: message.id,\n        status: \"\",\n        success: true\n      });\n    }).catch(function(error) {\n      var exc_type = error.kwargs.exc_type;\n      var msg = error.kwargs.message\n      that.setState({status: exc_type + ': ' + msg});\n    });\n  }\n\n  goBack(event) {\n    event.preventDefault();\n    this.state.parent.setState({signup: false});\n  }\n\n  render() {\n    if (this.state.success) {\n      return (\n        <div>\n          <h3>Nova conta criada com sucesso</h3>\n          <p>\n            Se essa aplicação fosse quente, você receberia\n            um e-mail contendo um link mágico que serviria\n            para confirmar sua conta.\n          </p>\n          <p>\n            O token <strong>de confirmação</strong> seria o {this.state.confirmationToken}.\n          </p>\n          <p>\n            Mas, por ora, basta você <a href='#' onClick={this.goBack}>clicar aqui</a> e\n            experimentar logar-se usando as credenciais que acabou de criar.\n          </p>\n          <div className='status'>{this.state.status}</div>\n        </div>\n      )\n    }\n\n    return (\n      <div>\n        <h3>Criar nova conta</h3>\n        <form onSubmit={this.onSubmit}>\n          <p>\n            <label>Usuário:</label>\n            <input type='text' name='username' value={this.state.username} onChange={this.onChangeUsername} /><br/>\n          </p>\n          <p>\n            <label>Senha:</label>\n            <input type='password' name='password' value={this.state.password} onChange={this.onChangePassword} /><br/>\n          </p>\n          <p><input type='submit' name='submit' value='Criar' /></p>\n        </form>\n        <p><small><a href='#' onClick={this.goBack}>Voltar</a></small></p>\n        <div className='status'>{this.state.status}</div>\n      </div>\n    );\n  }\n}\n\nexport default SignUpForm;\n","import React from 'react';\nimport './AutobahnApp.css';\n\nimport LoginForm from './LoginForm';\nimport SignUpForm from './SignUpForm';\n\nvar autobahn = require('autobahn');\n\n\nclass AutobahnApp extends React.Component {\n  constructor(props) {\n    super(props);\n\n    var connection = new autobahn.Connection({\n      url: 'ws://127.0.0.1:9090/ws',\n      realm: 'world',\n      authmethods: [\"ticket\"],\n      authid: 'frontend',\n      onchallenge: this.onChallenge\n    });\n\n    var that = this;\n    connection.onopen = function(session) {\n      that.onConnect(session);\n    }\n    connection.onclose = function(reason, details) {\n      that.onDisconnect(reason, details);\n    }\n\n    this.state = {\n      connected: false,\n      connection: connection,\n      status: 'Connecting',\n      session: null,\n      signup: false\n    };\n\n    this.showSignupForm = this.showSignupForm.bind(this);\n\n    connection.open()\n  }\n\n  onChallenge(session, method, extra) {\n    if (method === \"ticket\") {\n      return 'sou um usuario';\n    } else {\n      console.log(\"don't know how to authenticate using '\" + method + \"'\");\n    }\n  }\n\n  onConnect(session) {\n    this.setState({connected: true, status: \"Connected\", session: session});\n  }\n\n  onDisconnect(reason, details) {\n    this.setState({connected: false, status: \"Disconnected: \" + reason, session: null});\n  }\n\n  showSignupForm(event) {\n    event.preventDefault();\n    this.setState({signup: true});\n  }\n\n  render() {\n    if (this.state.connected) {\n      if (this.state.signup) {\n        return (\n          <div className='autobahn-app connected'>\n            <h2>Nova plataforma de cotação de apólices</h2>\n            <SignUpForm session={this.state.session} parent={this} />\n          </div>\n        );\n      }\n\n      return (\n        <div className='autobahn-app connected'>\n          <h2>Nova plataforma de cotação de apólices</h2>\n          <LoginForm session={this.state.session} />\n          <small><a href='#' onClick={this.showSignupForm}>Sou novo aqui</a></small>\n        </div>\n      );\n    }\n\n    return (\n      <div className='autobahn-app disconnected'>\n        <h2>Nova plataforma de cotação de apólices</h2>\n        <p>{this.state.status}</p>\n      </div>\n    );\n  }\n}\n\nexport default AutobahnApp;\n","import React from 'react';\nimport './App.css';\nimport AutobahnApp from './AutobahnApp';\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <AutobahnApp />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}